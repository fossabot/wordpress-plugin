!function(){var e="tab-focus";document.addEventListener("focusout",function(t){t.target.classList.remove(e)}),document.addEventListener("keydown",function(t){9===t.keyCode&&window.setTimeout(function(){document.activeElement.classList.add(e)},0)})}(),function(d){"use strict";function t(t){this.$element=d(".selz-modal"),this.$backdrop=d(".selz-modal-backdrop"),this.$controls=d(".selz-modal-controls"),this.$close=d('[data-modal="close"]'),this.$form=this.$element.find("form"),this.$submit=this.$form.find(":submit"),this.loading=!1,this.shown=!1,this.show(t)}function e(t,e){e?t.removeAttr("hidden"):t.attr("hidden","")}t.prototype.enforceFocus=function(){d(document).off("focusin.modal").on("focusin.modal",d.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},t.prototype.hide=function(){this.shown&&(this.shown=!1,e(this.$backdrop,this.shown),e(this.$element,this.shown),d(document).off("focusin.modal").off("keyup.hide.modal"),this.$form.off("change.type.modal").off("submit.modal"))},t.prototype.show=function(t){wpActiveEditor&&(this.shown||(d(".selz-modal-controls .js-tab-container").html(),d(".selz-modal-controls").html(selzvars.spinner),d("<input>").attr({type:"hidden",name:"kind"}).appendTo(this.$form),this.shown=!0,e(this.$backdrop,this.shown),e(this.$element,this.shown),this.$close.focus(),d('input[name="kind"]').val(t),this.update(),this.$close.on("click.hide.modal",d.proxy(function(t){t.preventDefault(),this.hide()},this)),this.$form.on("change.type.modal",'select[name="type"]',d.proxy(function(){this.update()},this)),this.$form.on("submit.modal",d.proxy(function(t){t.preventDefault(),this.insert()},this)),d(document).on("keyup.hide.modal",d.proxy(function(t){27===t.keyCode&&this.hide()},this)),this.enforceFocus()))},t.prototype.insert=function(){if(tinymce){var t=tinymce.get(wpActiveEditor),e="";this.hide(),d("input",this.$form).each(function(){d(this).attr("id")&&d(this).is(":checkbox")?e+=" "+d(this).attr("id")+'="'+d(this).prop("checked")+'"':d(this).attr("id")&&d(this).not(":checkbox")&&d(this).val()&&(e+=" "+d(this).attr("id")+'="'+d(this).val()+'"')}),d("select",this.$form).each(function(){d(this).attr("id")&&d(this).val()&&(e+=" "+d(this).attr("id")+'="'+d(this).val()+'"')}),d("textarea",this.$form).each(function(){d(this).attr("id")&&d(this).val()&&(e+=" "+d(this).attr("id")+'="'+d(this).val()+'"')});var i="["+selzvars.slug+e+"]";t&&(tinymce.execCommand("mceBeginUndoLevel"),tinymce.execCommand("mceInsertContent",!1,i),tinymce.execCommand("mceEndUndoLevel")),edInsertContent("",i)}},t.prototype.update=function(){!this.loading&&"string"==typeof ajaxurl&&ajaxurl.length&&(this.loading=!0,this.$submit.prop("disabled",!0),d.post(ajaxurl,{action:selzvars.action,nonce:selzvars.nonce,data:this.$form.serialize()},d.proxy(function(t){this.$submit.prop("disabled",!1),this.$controls.html(t),this.loading=!1},this)))},window.SelzModal=t}(jQuery),function(o){"use strict";function t(t){this.$element=o("#"+t),this.$controls=o(".selz-widget-controls"),this.$form=this.$element.find("form"),this.$type=this.$form.find(".widget-type select"),this.loading=!1,this.show()}function i(t){o(".widgets-sortables > div").each(function(t,e){var i=o(e).attr("id");void 0!==i&&-1!=i.indexOf("selz")&&new SelzWidget(i)})}t.prototype.show=function(){this.update(this.$type.val()),this.$type.on("change",o.proxy(function(t){this.update(this.$type.val())},this))},t.prototype.update=function(d){this.$form.find(".control-group").each(function(t,e){var i=o(e).data("type");void 0!==i&&-1!==i.indexOf(d)?o(e).show():o(e).hide(),null==i&&o(e).show()})},window.SelzWidget=t,o(document).ready(function(){i()}),o(document).on("widget-added widget-updated",function(t,e){i()})}(jQuery),function(d){"use strict";function t(){d(".js-color-picker:not(.has-colorpicker)").addClass("has-colorpicker").wpColorPicker().removeClass("wp-color-picker")}function o(t){var e=t.parents(".js-tab-container"),i=d("#"+t.attr("aria-controls"));d("[role='tab']",e).attr("aria-selected","false"),t.attr("aria-selected","true"),d("[role='tabpanel']",e).attr("aria-hidden","true"),i.attr("aria-hidden","false")}function e(){d(".js-tab-container [role='tab']").on("click",function(t){t.preventDefault(),o(d(this))}).on("keydown",function(t){if(39===t.which||37===t.which){var e=d(this);if("true"===e.attr("aria-selected")){var i=e.parent("li")[39===t.which?"next":"prev"]("li").find("[role='tab']");i&&(i.focus(),o(i))}}})}d(document).ready(t).ready(e).ajaxComplete(t).ajaxComplete(e)}(jQuery),function(c){c.fn.ddslick=function(t){return e[t]?e[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void c.error("Method "+t+" does not exists."):e.init.apply(this,arguments)};var e={},r={data:[],keepJSONItemsOnTop:!1,width:"100%",height:null,background:"#fff",selectText:"",defaultSelectedIndex:null,truncateDescription:!0,imagePosition:"left",showSelectedHTML:!0,clickOffToClose:!0,embedCSS:!0,onSelected:function(){}};function p(t,e){var i,d,o,n,s=t.data("ddslick"),a=t.find(".dd-selected"),l=a.siblings(".dd-selected-value"),c=(t.find(".dd-options"),a.siblings(".dd-pointer"),t.find(".dd-option").eq(e)),r=c.closest("li"),p=s.settings,h=s.settings.data[e];t.find(".dd-option").removeClass("dd-option-selected"),c.addClass("dd-option-selected"),s.selectedIndex=e,s.selectedItem=r,s.selectedData=h,p.showSelectedHTML?a.html((h.imageSrc?'<img class="dd-selected-image'+("right"==p.imagePosition?" dd-image-right":"")+'" src="'+h.imageSrc+'" />':"")+(h.text?'<label class="dd-selected-text">'+h.text+"</label>":"")+(h.description?'<small class="dd-selected-description dd-desc'+(p.truncateDescription?" dd-selected-description-truncated":"")+'" >'+h.description+"</small>":"")):a.html(h.text),l.val(h.value),s.original.val(h.value),t.data("ddslick",s),f(t),d=(i=t).find(".dd-select").css("height"),o=i.find(".dd-selected-description"),n=i.find(".dd-selected-image"),o.length<=0&&0<n.length&&i.find(".dd-selected-text").css("lineHeight",d),"function"==typeof p.onSelected&&p.onSelected.call(this,s)}function h(t){var o,e=t.find(".dd-select"),i=e.siblings(".dd-options"),d=e.find(".dd-pointer"),n=i.is(":visible");c(".dd-click-off-close").not(i).slideUp(50),c(".dd-pointer").removeClass("dd-pointer-up"),e.removeClass("dd-open"),n?(i.slideUp("fast"),d.removeClass("dd-pointer-up"),e.removeClass("dd-open")):(e.addClass("dd-open"),i.slideDown("fast"),d.addClass("dd-pointer-up")),(o=t).find(".dd-option").each(function(){var t=c(this),e=t.css("height"),i=t.find(".dd-option-description"),d=o.find(".dd-option-image");i.length<=0&&0<d.length&&t.find(".dd-option-text").css("lineHeight",e)})}function f(t){t.find(".dd-select").removeClass("dd-open"),t.find(".dd-options").slideUp(50),t.find(".dd-pointer").removeClass("dd-pointer-up").removeClass("dd-pointer-up")}e.init=function(l){var t=c.extend({},r,l);return c("#css-ddslick").length<=0&&t.embedCSS&&c('<style id="css-ddslick" type="text/css">.dd-select{ border-radius:4px; box-shadow:0 1px 1px rgba(0,0,0,.05);border:solid 1px #dbe3e8; position:relative; cursor:pointer;}.dd-desc { color:#aaa; display:block; overflow: hidden; font-weight:normal; line-height: 1.4em; }.dd-selected {overflow: hidden;display: block;padding: 0;color: #333b3f !important;border-bottom: none !important;}.dd-selected-text, .dd-option-text {margin: 0 !important;line-height:44px !important}.dd-pointer{ width:0; height:0; position:absolute; right:10px; top:50%; margin-top:-3px;}.dd-pointer-down{ border:solid 5px transparent; border-top:solid 5px #000; }.dd-pointer-up{border:solid 5px transparent !important; border-bottom:solid 5px #000 !important; margin-top:-8px;}.dd-options{ border:solid 1px #dbe3e8; list-style:none; box-shadow:0px 3px 5px #bbb; display:none; position:absolute; z-index:2000; margin:2px 0 0 0; padding:0;background:#fff; overflow:auto;border-radius: 4px;}.dd-option{ color:#333b3f !important;padding:0; display:block; border-bottom:solid 1px #ddd; overflow:hidden; text-decoration:none; cursor:pointer;-webkit-transition: all 0.25s ease-in-out; -moz-transition: all 0.25s ease-in-out;-o-transition: all 0.25s ease-in-out;-ms-transition: all 0.25s ease-in-out; }.dd-options > li{ margin:0}.dd-options > li:last-child > .dd-option{ border-bottom:none;}.dd-option:hover{ background:#f9f9f9;border-bottom:1px solid #aaa !important}.dd-selected-description-truncated { text-overflow: ellipsis; white-space:nowrap; }.dd-option-selected { background:#fff; }.dd-option-image, .dd-selected-image { vertical-align:middle; float:left; margin:5px 5px 5px 4px; max-width:64px;}.dd-image-right { float:right; margin-right:15px; margin-left:5px;}.dd-container{ position:relative;}​ .dd-selected-text {}​</style>').appendTo("head"),this.each(function(){var i=c.extend({},r,l),t=c(this);if(!t.data("ddslick")){var d=[];i.data;t.find("option").each(function(){var t=c(this),e=t.data();d.push({text:c.trim(t.text()),value:t.val(),selected:t.is(":selected"),description:e.description,imageSrc:e.imagesrc})}),i.keepJSONItemsOnTop?c.merge(i.data,d):i.data=c.merge(d,i.data);var e=t,o=c("<div/>",{id:t.attr("id")+"-dd-placeholder"});t.replaceWith(o),(t=o).addClass("dd-container").append('<div class="dd-select"><input class="dd-selected-value" type="hidden" /><a class="dd-selected"></a><span class="dd-pointer dd-pointer-down"></span></div>').append('<ul class="dd-options"></ul>'),t.find("input.dd-selected-value").attr("id",c(e).attr("id")).attr("name",c(e).attr("name"));d=t.find(".dd-select");var n=t.find(".dd-options");n.css({width:i.width}),d.css({width:i.width,background:i.background}),t.css({width:i.width}),null!=i.height&&n.css({height:i.height,overflow:"auto"}),c.each(i.data,function(t,e){e.selected&&(i.defaultSelectedIndex=t),n.append('<li><a class="dd-option">'+(e.value?' <input class="dd-option-value" type="hidden" value="'+e.value+'" />':"")+(e.imageSrc?' <img class="dd-option-image'+("right"==i.imagePosition?" dd-image-right":"")+'" src="'+e.imageSrc+'" />':"")+(e.text?' <label class="dd-option-text">'+e.text+"</label>":"")+(e.description?' <small class="dd-option-description dd-desc">'+e.description+"</small>":"")+"</a></li>")});var s={settings:i,original:e,selectedIndex:-1,selectedItem:null,selectedData:null};if(t.data("ddslick",s),0<i.selectText.length&&null==i.defaultSelectedIndex)t.find(".dd-selected").html(i.selectText);else{var a=null!=i.defaultSelectedIndex&&0<=i.defaultSelectedIndex&&i.defaultSelectedIndex<i.data.length?i.defaultSelectedIndex:0;p(t,a)}t.find(".dd-select").on("click.ddslick",function(){h(t)}),t.find(".dd-option").on("click.ddslick",function(){p(t,c(this).closest("li").index())}),i.clickOffToClose&&(n.addClass("dd-click-off-close"),t.on("click.ddslick",function(t){t.stopPropagation()}),c("body").on("click",function(){c(".dd-open").removeClass("dd-open"),c(".dd-click-off-close").slideUp(50).siblings(".dd-select").find(".dd-pointer").removeClass("dd-pointer-up")}))}})},e.select=function(d){return this.each(function(){var t,e,i;void 0!==d.index&&p(c(this),d.index),d.id&&(t=c(this),e=d.id,i=t.find(".dd-option-value[value= '"+e+"']").parents("li").prevAll().length,p(t,i))})},e.open=function(){return this.each(function(){var t=c(this);t.data("ddslick")&&h(t)})},e.close=function(){return this.each(function(){var t=c(this);t.data("ddslick")&&f(t)})},e.destroy=function(){return this.each(function(){var t=c(this),e=t.data("ddslick");if(e){var i=e.original;t.removeData("ddslick").unbind(".ddslick").replaceWith(i)}})}}(jQuery);